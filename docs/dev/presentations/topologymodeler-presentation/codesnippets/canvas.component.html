<div id="container" style="height: 100%; width: 100%"
     (mousedown)="showSelectionRange($event)"
     (click)="this.revalidateContainer()">
    <div id="grid"
         (mousedown)="trackTimeOfMouseDown()"
         (mouseup)="trackTimeOfMouseUp()"
         [class.crosshair]="this.gridTemplate.crosshair"
         [style.width.vw]="this.gridTemplate.gridDimension"
         [style.height.vh]="this.gridTemplate.gridDimension"
         [style.marginLeft.px]="this.gridTemplate.marginLeft">
        <div class="selection" id="selection"
             [class.selection-active]="this.gridTemplate.selectionActive"
             [style.left.px]="this.gridTemplate.pageX"
             [style.top.px]="this.gridTemplate.pageY"
             [style.width.px]="this.gridTemplate.selectionWidth"
             [style.height.px]="this.gridTemplate.selectionHeight"
             #selection>
            <span></span>
        </div>
    </div>
    <div #nodes>
        <winery-node *ngFor="let nodeTemplate of allNodeTemplates"
                     [readonly]="readonly"
                     [nodeTemplate]="nodeTemplate"
                     [entityTypes]="this.entityTypes"
                     (sendId)="activateNewNode($event)"
                     [navbarButtonsState]="topologyRendererState"
                     (askForRepaint)="revalidateContainer()"
                     (askForRemoval)="removeElement($event)"
                     (setDragSource)="setDragSource($event)"
                     (closedEndpoint)="toggleClosedEndpoint($event)"
                     (sendSelectedRelationshipType)="setSelectedRelationshipType($event)"
                     [dragSource]="nodeTemplate.id + '_Endpoint'"
                     (handleNodeClickedActions)="handleNodeClickedActions($event)"
                     (updateSelectedNodes)="updateSelectedNodes()"
                     (unmarkConnections)="unmarkConnections()"
                     (sendNodeData)="toggleModalHandler($event)">
        </winery-node>
    </div>
    <div id="dummy1" style="width: 1px; height: 1px;"></div>
    <div id="dummy2" style="width: 1px; height: 1px;"></div>
</div>